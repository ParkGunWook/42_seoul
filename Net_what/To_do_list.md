# 넷왓이란??

**넷왓**은 너가 네트워크를 발견하고 그것의 내부 동작에 대해서 배울 수 있게 하는 것이다.
이 것은 너의 일상에서 사용하는 몇가지 것들을 이해하는 것을 돕는다.

**넷왓**은 다지선다 프로젝트이다. 이 프로젝트는 너의 네트워크 지식을 평가할 것이다.
너는 인터넷에서 네트워크에 대한 레슨을 읽는 것으로 시작할 수 있다.
그 후에 너는 너의 지식을 측정하기 위해서 온라인 시험을 사용할 수 있다.
시험을 치고나서 우리의 퀴즈를 패스할 준비가 되어있으면, 너는 시험치러가면 된다.

## What is an IP address

IP 주소는 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호이다.
만약 서버가 들어가지 않으면 IP가 안전하지 않다고 한다. 네트워크에 연결된 장치가 라우터이든 일반 서버이든, 모든 기계는 이 특수한 번호를 가지고 있어야 한다. 이 번호를 이용하여 발신자를 대신하여 메시지가 전송되고 수신자를 향하여 예정된 목적지로 전달된다.

IP 주소는 5036이나 5047, 인터넷에서만 사용되는 전화번호라고 생각할 수 있다. 한편, 이런 번호는 외우기 어렵기 때문에, 전화번호부와 같은 역할을 하는 서비스가 필요하다. DNS가 이런 역할을 하며 서비스를 "도메인 이름 분석"(domain name resolution) 혹은 "이름 분석"(name resolution)이라고 한다.

### IP 할당

고정된 IP 주소를 할당받아 사용하는 방법 이외에도 DHCP를 이용하여 동적으로 IP 주소를 할당받는 방법도 있다.
0 8
10 16
110 24

255.255.255.0

### IP v4

주소의 범위는 32비트로 0~255사이의 십진수 넷을 쓰고 .으로 구분한다. 0.0.0.0부터 255.255.255.255까지가 된다. 이론적으로 2^32개의 IP가 존재한다. 중간의 일부 번호들은 특별한 용도를 위해 예약되어 있다. 이를테면 127.0.0.1은 localhost로 자기 자신을 가리킨다.

### IP v6

모든 단말에 주소를 부여하기에 32비트로는 부족해짐에 따라 IP의 새로운 버전인 6에서 주소 길이를 128비트로 늘렸다. IPv6 주소는 보통 두 자리 16진수 8개를 쓰고 각각을 : 기호로 구분한다.

## What is Netmask

부분망을 구하는 과정은 한 주소의 네트워크 및 부분망 부분과 호스트 식별자를 구분하는 일을 포함한다. 이는 IP 주소 및 부분망 마스크 간 AND 비트 연산을 통해 수행한다. 이를 통해 네트워크 주소나 접두사가 만들어지며 나머지는 호스트 식별자가 된다.

### 네트워크 접두사 결정

IPv4 네트워크 마스크는 32비트로 이루어져 있으며 일련의 숫자 1이 0들의 블록을 따른다. 뒷따르는 0들의 블록은 호스트 식별자의 일부임을 지시한다.

다음은 192.168.5.130이라는 주소와 이와 연계된 /24 네트워크 마스크 (255.255.255.0)으로부터 네트워크 접두사와 호스트 식별자를 구분하는 예이다. 이 연산은 이진 주소 형식을 사용하여 아래의 표로 나타아 있다.

| | 이진 형태 | 닷 데시멀 노테이션 |
| - | - | - |
| IP 주소 | `11000000.10101000.00000101.10000010`| `192.168.5.130` |
| 서브넷 마스크 | `11111111.11111111.11111111.00000000` | `255.255.255.0` |
| 네트워크 접두사 | `11000000.101010000.00000101.00000000` | `192.168.5.0` |
| 호스트 부분 | `00000000.00000000.00000000.100000010` | `0.0.0.130` |

### 부분망 구하기

부분망을 구하는 일은 호스트 부분으로부터 일부 상위 비트를 지정하고 서브넷 마스크 형성을 위해 네트워크 마스크 안에 이들을 묶는 과정이다. 이를 통해 하나의 네트워크를 더 조그마한 서브넷들로 나눈다. 다음의 표는 호스트 부분에서 2비트를 서브넷 마스크로 이동하여 이전 크기의 1/4만큼 되는 네 개의 더 작은 서브넷들을 형성한 예이다.

| | 이진 형태 | 닷 데시멀 노테이션 |
| - | - | - |
| IP 주소 | `11000000.10101000.00000101.10000010`| `192.168.5.130` |
| 서브넷 마스크 | `11111111.11111111.11111111.11000000` | `255.255.255.0` |
| 네트워크 접두사 | `11000000.101010000.00000101.10000000` | `192.168.5.128` |
| 호스트 부분 | `00000000.00000000.00000000.100000010` | `0.0.0.130` |

### 부분방과 호스트 수

사용 가능한 부분망의 수, 네트워크에서 구현 가능한 호스트의 수는 쉽게 계산할 수 있다. 위의 예에서 하부망을 만들기 위해 두 개의 비트를 빌려옴으로써 4개의 구현 가능한 하부망을 만들 수 있다.

| 네트워크 | 네트워크 | 이진 |	브로드캐스트 주소 |
| - | - | - | - |
|192.168.5.0/26	 | `11000000.10101000.00000101.00000000`|	`192.168.5.63`|
|192.168.5.64/26 |	`11000000.10101000.00000101.01000000`	|`192.168.5.127`|
|192.168.5.128/26 |	`11000000.10101000.00000101.10000000`	|`192.168.5.191`|
|192.168.5.192/26 |	`11000000.10101000.00000101.11000000`	|`192.168.5.255`|

A/24 네트워크는 서브넷 마스크를 1비트씩 연속하여 증가시킴으로써 다음의 부분망으로 나눌 수 있다. 이는 /24 네트워크로 주소 할당이 가능한 호스트의 전체 수에 영향을 미친다.

|접두사 크기 | 네트워크 마스크 | 이용 가능한 부분망 | 부분망 당 이용 가능한 호스트 수 | 사용 가능한 모든 호스트 수 |
| - | - | - | - | - |
| /24 | `255.255.255.0` | 1 | 254 | 254 |
| /25 | `255.255.255.128` | 2 | 126 | 252 |
| /26 | `255.255.255.192` | 4 | 62 | 248 |
| /27 | `255.255.255.224` | 8 | 30 | 240 |
| /28 | `255.255.255.240` | 16 | 14 | 224 |
| /29 | `255.255.255.248` | 32 | 6 | 192 |
| /30 | `255.255.255.252` | 64 | 2 | 128 |
| /31 | `255.255.255.254` | 128 | 2 | 256 |

## What is the subnet of an IP with Netmask

**서브네트워크** 또는 **서브넷**은 논리적으로 IP 네트워크의 부분이다. 네트워크를 둘이상으로 쪼개는 것을 **서브네팅**이라고 한다.

같은 서브넷에 소유된 컴퓨터들은 그들의 IP 주소에서 같은 것을 가르킨다. 이것은 IP 주소의 논리적인 영역을 두가지로 나누게 된다. *네트워크 넘버* 또는 *라우팅 접두사*와 *rest field* 또는 *호스트 식별자*가 된다. *rest field*는 특정 호스트 또는 네트워크 인터페이스를 위한 식별자이다.

*라우팅 접두사*는 네트워크의 첫번째 주소가 슬래시 캐릭터로 따라오고 접두사의 비트 길이로 끝나는 **Classless Inter-Domain Rounting(CIDR)** 표기법으로 표현된다. 예를 들어서, 198.51.100.0/24는 IPv4의 접두사고 24비트가 네트워크 접두사로 할당되어있고 나머지 8비트는 호스트 주소를 위해서 남아있다. 198.51.100.0에서 198.51.100.255의 주소가 네트워크에 속해있다. IPv6 주소들은 2001:db8::/32는 2^96개의 주소 블럭을 가지고 32비트 라우팅 접두사를 가진다.

IPv4에서, 네트워크는 비트 마스크인 **서브넷 마스크** 또는 **넷 마스크**로 구별된다. 이 마스크들은 네트워크의 IP 주소로 적용되어서 라우팅 접두사를 생성한다. 서브넷 마스크들은 닷 데시멀 노테이션으로 표현된다. 예를 들어서 255.255.255.0은 접두사 198.51.100.0/24를 위한 접두사이다.

트래픽은 소스 어드레스와 목적지 주소의 라우팅 접두사가 다를 때 서브넷 네트워크에서 교환된다. 라우터는 서브넷 사이에서 논리 또는 물리적으로 주어진다.

존재하는 네트워크를 서브네팅하는 장점은 각 실행 시나리오에 따라서 다르다. CIDR을 사용한 인터넷의 주소 할당 아키텍처에서, 주소 공간을 효율적으로 할당하는 것은 필수적이다. 서브네팅은 라우팅 효율성을 증가시킬수 있고 서브네트워크들이 큰 기업에서 다른 엔티티로 제어될때 장점을 가진다. 서브넷들은 계층적인 구조로 논리적으로 정렬되고 기업의 네트워크 공간을 트리 형태로 파티셔닝한다.

### 네트워크 어드레싱과 라우팅

인터넷같은 네트워크에 참여하는 컴퓨터들은 적어도 하나의 네트워크 주소를 가진다. 일반적으로 이 주소는 각 디바이스에 유일하고 **Dynamic Host Configuration Protocol(DHCP)**로 자동으로 구별될 수 있다.

주소는 호스트를 식별하고 네트워크에 위치하는 기능을 만족한다. 가장 일반적인 네트워크 어드레싱 아키텍처는 IPv4이다. 그 후계자로는 IPv6이고 2006년 이후로 증가하고 있다. IPv4는 32비트를 가지고 십진법으로 8개씩 .으로 구분된다. IPv6는 128비트로서 16진법으로 쓰고 16비트씩 묶여있고 **hextets**라고 불린다. IP주소는 논리적으로 두가지 부분으로 나뉘는데 *네트워크 접두사*와 *호스트 식별자*이다. 서브네트워크에 있는 호스트들은 같은 네트워크 접두사를 가진다. 이 접두사는 주소의 MSB를 차지한다. 호스트 식별자는 유일한 로컬 식별이고 로컬 네트워크에서 호스트 넘버 또는 인터페이스 식별자이다.

주소 구조는 특별한 게이트웨이 컴퓨터를 통해서 다중 네트워크를 건너 선택적인 IP 패킷의 라우팅을 허용한다. 이것을 라우터라고 부르고 만약 시작과 도착 호스트의 네트워크 접두사가 다르면, 로컬 네트워크가 같으면 직접 보내진다. 라우터는 서브넷 사이에서 논리 또는 물리적 경계를 구성하고 그들 사이에서 트래픽을 관리한다. 각각의 서브넷은 지정되 디폴트 라우터에 의해서 서브되지만 네트워크 스위치를 통해서 연결된 다중 물리적 이더넷 세그먼트가 구성될 수 있다.

주소의 라우팅 접두사는 서브넷 마스크에 의해서 구별된다. 예를 들어서 라우팅 접두사를 위한 서브넷 마스크는 24비트이다.

현대의 네트워크 접두사인 CIDR 노테이션이다. 그것은 접두사의 수를 슬래시 캐릭터 구분자로 주소후에 숫자를 붙인다. 이 노테이션은 CIDR로 소개되었다.

IPv4에서의 **classful networking**에서 CIDR의 소개 이전에 네트워크 접두사는 IP주소에서 직접 얻어졌고 높은 비트 시퀀스 순서로얻어졌다. 이 것이 주소의 클래스를 결정했고 그러므로 서브넷 마스크가 되었다. CIDR이후에 IP 주소의 할당은 두가지 파라미터를 얻게 되었다.

IPv4가 주어지면, 그것은 서브넷 마스크, 목적지 주소로 관련되었고  라우터는 목적지가 로컬 네트워크인지 원격 네트워크인지 결정했다. 묵적지의 서브넷 마스크는 필요하지 않고 보통 라우터에게 알려지지 않는다. IPv6에서, 온 링크 결정이 디테일에서 다르고 NDP를 필요로 한다.

각 지역적으로 연결된 서브넷은 연결된 라우터의 라우팅 테이블로 대표되고 서브네팅은 라우팅 복잡성을 증가시킨다. 그러나 네트워크의 디자인에 의해서 트리 계층의 브런치안의 원격 서브넷의 집합은 슈퍼 네트워크에 의해서 합해지거나 하나의 루트로 대표된다.

## What is the broadcast address of a subnet

네트워크 주소는 해당 서브넷의 시작주소, 브로드 캐스트 주소는 해당 서브넷의 마지막 주소로 보면된다.

| | |
| - | - |
| IP 주소	  | 165.132.120.10 |
| 서브넷 마스크	| 255.255.252.0  |
| 네트워크주소  | 165.132.120.0  |
| 브로드캐스트  | 165.132.123.255|

## What are the differences between public and private IPs

### 공인 IP

인터넷 사용자의 로컬 네트워크를 식별하기 위해 ISP(인터넷 서비스 공급자)가 제공하는 IP 주소이다. 공용 IP 주소라고도 불리며 외부에 공개되어 있는 IP 주소이다.

- 공인 IP는 전세계에서 유일한 IP 주소를 갖는다.
- 공인 IP 주소가 외부에 공개되어 있기에 인터넷에 연결된 다른 PC로부터의 접근이 가능하다. 따라서 공인 IP 주소를 사용하는 경우에는 방화벽 등의 보안 프로그램을 설치할 필요가 있다.

### 사설 IP

일반 가정이나 회사 내 등에 할당된 네트워크의 IP 주소이며, 로컬, 가상 IP라고도 한다. IPv4의 주소부족으로 인해 서브네팅된 IP이기 때문에 라우터에 의해 로컬 네트워크상의 PC나 장치에 할당된다.

### 사설 IP 주소 대역

Class A : 10.0.0.0 ~ 10.255.255.255
Class B : 172.16.0.0 ~ 172.31.255.255
Class C : 192.168.0.0 ~ 192.168.255.255

### 차이

| | 공인 | 사설 |
| - | - | - |
| 할당 주체 | ISP | 라우터 |
| 할당 대상 | 개인 또는 회사의 서버(라우터) | 개인 또는 회사의 기기 |
| 고유성 | 인터넷 상에서 유일한 주소 | 하나의 네트워크 안에서 유일 |
| 공개 여부 | 내/외부 접근 가능 | 외부 접근 불가능 |

## What is TCP/UDP

### TCP(Transmission Control Protocol)

인터넷상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용되는 프로토콜

일반적으로 TCP와 IP를 함께 사용하는데, IP가 데이터의 배달을 처리한다면 TCP는 패킷을 추적 및 관리하게 된다.
TCP는 연결형 서비스를 지원하는 프로토콜로 인터넷 환경에서 기본으로 사용한다.

- 연결형 서비스로 가상 회선 방식을 제공한다.
- 3-way handshaking과정을 통해 연결을 설정하고 4-way handshaking을 통해 해제한다.
- 흐름 제어 및 혼잡 제어
- 높은 신뢰성을 보장한다.
- UDP보다 속도가 느리다.
- Full-Duplex, Point to Point
- 서버와 클라이언트는 1대 1로 연결된다.

### UDP(User Datagram Protocol)

데이터그램이란 독립적인 관계를 지니는 패킷이라는 뜻으로, 연결을 위해 할당되는 논리적인 경로가 없어서 독립적으로 처리된다.

- 비연결형 서비스로 데이터그램 방식을 제공한다.
- 정보를 주고 받을 때 정보를 보내거나 받는다는 신호절차를 거치지 않는다.
- UDP헤더의 CheckSum 필드를 통해 최소한의 오류만 검출한다.
- 신뢰성이 낮다.
- TCP보다 속도가 빠르다.

